<h1 translate>TITLE</h1>
<div class="section top">
  <sbb-field mode="long">
    <sbb-select
      [(ngModel)]="inputLang" (ngModelChange)="changeInputLanguage($event)">
      <sbb-option *ngFor="let lan of this.translate.getLangs()" [value]="lan"
                  translate>{{lan}}</sbb-option>
    </sbb-select>
  </sbb-field>
</div>
<div class="section">
  <button class="action-button" sbbButton *ngIf="!listening" (click)="listen()">
    <i *sbbButtonIcon class="fa fa-microphone fa-lg"></i>
    {{'LISTEN' | translate}}
  </button>
  <button class="action-button" sbbButton *ngIf="listening" (click)="stopListening()">
    <sbb-icon-cross *sbbButtonIcon></sbb-icon-cross>
    {{'STOP.LISTENING' | translate}}
  </button>
  <button class="action-button" sbbButton mode="secondary" (click)="reset()">
    <sbb-icon-arrows-circle *sbbButtonIcon></sbb-icon-arrows-circle>
    {{'RESET' | translate}}
  </button>
</div>
<div class="section">
  <sbb-field class="lan-select" mode="long">
    <sbb-label>{{'OUTPUT.LANGUAGE' | translate}}</sbb-label>
    <sbb-select
      [(ngModel)]="outputLang"
      (ngModelChange)="changeOutputLanguage($event)">
      <sbb-option [disabled]="lan == inputLang" *ngFor="let lan of translate.getLangs()" [value]="lan"
                  translate>{{lan}}</sbb-option>
    </sbb-select>
  </sbb-field>
</div>
<h2 translate>TULPEN.MAGIC</h2>
<sbb-loading
  *ngIf="listening" mode="medium"
  aria-valuetext="Loading please wait"
></sbb-loading>
<div class="section">
  <app-text-box [content]="(recognisedText$ | async)" title="RECOGNIZED.INPUT"
                [language]="getSpeakLang(inputLang)"></app-text-box>

  <app-text-box [content]="(translatedResult$ | async)?.translated_text" title="TRANSLATION"
                [language]="getSpeakLang(outputLang)"></app-text-box>
</div>
<h2 translate>Glossary</h2>
<div class="section">
  <app-text-box [content]="(translatedResult$ | async)?.glossary_int" title="International"
                [language]="getSpeakLang(outputLang)"></app-text-box>
  <app-text-box [content]="(translatedResult$ | async)?.glossary_sbb" title="SBB"
                [language]="getSpeakLang(outputLang)"></app-text-box>
</div>
